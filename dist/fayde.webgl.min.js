var Fayde;!function(e){var n;!function(e){e.version="0.1.0"}(n=e.WebGL||(e.WebGL={}))}(Fayde||(Fayde={}));var __extends=this&&this.__extends||function(e,n){function r(){this.constructor=e}for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},Fayde;!function(e){var n;!function(n){var r=function(e){function r(){e.call(this),this.Draw=new nullstone.Event,this.DefaultStyleKey=r,this.Source||this.SetCurrentValue(r.SourceProperty,new n.WebGLSource(document.createElement("canvas")))}return __extends(r,e),r.prototype.CreateLayoutUpdater=function(){return new fayde.webgl.updater.WebGLCanvasUpdater},r.prototype.OnSourceChanged=function(e,n){var r=this;e&&e.detach(),n&&n.attach(function(e,n,t){return r.OnDraw(e,n,t)})},r.prototype.OnDraw=function(e,r,t){this.Draw.raise(this,new n.WebGLDrawEventArgs(e,r,t))},r.SourceProperty=DependencyProperty.Register("Source",function(){return n.WebGLSource},r,void 0,function(e,n){return e.OnSourceChanged(n.OldValue,n.NewValue)}),r}(e.FrameworkElement);n.WebGLCanvas=r,e.CoreLibrary.add(r);var t;!function(n){e.UIReaction(r.SourceProperty,function(e,n,r,t){t.OnSourceChanged(n,r)},!1)}(t||(t={}))}(n=e.WebGL||(e.WebGL={}))}(Fayde||(Fayde={}));var Fayde;!function(e){var n;!function(e){var n=function(){function e(e,n,r){Object.defineProperties(this,{gl:{value:e,writable:!1},width:{value:n,writable:!1},height:{value:r,writable:!1}})}return e}();e.WebGLDrawEventArgs=n}(n=e.WebGL||(e.WebGL={}))}(Fayde||(Fayde={}));var Fayde;!function(e){var n;!function(e){var n=function(){function e(e){this.$element=e,this.$gl=e.getContext("webgl")||e.getContext("experimental-webgl")}return e.prototype.resize=function(e,n){var r=this.$element;r.width=e,r.height=n},e.prototype.draw=function(e){var n=this.$element;this.$onDraw&&this.$onDraw(this.$gl,n.width,n.height),e.drawImage(this.$element,0,0)},e.prototype.detach=function(){this.$onDraw=null},e.prototype.attach=function(e){this.$onDraw=e},e}();e.WebGLSource=n}(n=e.WebGL||(e.WebGL={}))}(Fayde||(Fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n=function(n){function r(){n.apply(this,arguments)}return __extends(r,n),r.prototype.init=function(){this.setMeasurePipe(minerva.singleton(e.measure.WebGLCanvasMeasurePipeDef)).setArrangePipe(minerva.singleton(e.arrange.WebGLCanvasArrangePipeDef)).setProcessDownPipe(minerva.singleton(minerva.controls.canvas.processdown.CanvasProcessDownPipeDef)).setProcessUpPipe(minerva.singleton(minerva.controls.canvas.processup.CanvasProcessUpPipeDef)).setRenderPipe(minerva.singleton(e.render.WebGLCanvasRenderPipeDef));var r=this.assets;r.source=null,n.prototype.init.call(this)},r.prototype.onSurfaceChanged=function(e,n){e&&e.unhookPrerender(this),n&&n.hookPrerender(this)},r.prototype.preRender=function(){var e=this.assets;e.source&&this.invalidate()},r.prototype.onSizeChanged=function(e,r){n.prototype.onSizeChanged.call(this,e,r);var t=this.assets.source;t&&t.resize(r.width,r.height)},r}(minerva.core.Updater);e.WebGLCanvasUpdater=n}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n=function(n){function r(){n.call(this),this.replaceTapin("doOverride",e.tapins.doOverride).replaceTapin("buildLayoutClip",e.tapins.buildLayoutClip)}return __extends(r,n),r}(minerva.core.arrange.ArrangePipeDef);e.WebGLCanvasArrangePipeDef=n}(n=e.arrange||(e.arrange={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n=function(n){function r(){n.call(this),this.replaceTapin("doOverride",e.tapins.doOverride)}return __extends(r,n),r}(minerva.core.measure.MeasurePipeDef);e.WebGLCanvasMeasurePipeDef=n}(n=e.measure||(e.measure={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n=function(n){function r(){n.call(this),this.replaceTapin("doRender",e.tapins.doRender)}return __extends(r,n),r}(minerva.core.render.RenderPipeDef);e.WebGLCanvasRenderPipeDef=n}(n=e.render||(e.render={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){function n(e,n,r,t,a){var i=r.layoutClip;return i.x=i.y=i.width=i.height=0,!0}e.buildLayoutClip=n}(n=e.tapins||(e.tapins={}))}(n=e.arrange||(e.arrange={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){function n(e,n,r,t,a){n.childRect;return Size.copyTo(n.finalSize,n.arrangedSize),!0}e.doOverride=n}(n=e.tapins||(e.tapins={}))}(n=e.arrange||(e.arrange={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){function n(e,n,r,t,a){var i=(n.availableSize,r.desiredSize);return i.width=i.height=0,!0}e.doOverride=n}(n=e.tapins||(e.tapins={}))}(n=e.measure||(e.measure={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));var fayde;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){var n;!function(e){function n(e,n,r,t,a,i){var o=e.source;return o?(t.save(),minerva.core.helpers.renderLayoutClip(t,e,i),o.draw(t.raw),t.restore(),!0):!0}e.doRender=n}(n=e.tapins||(e.tapins={}))}(n=e.render||(e.render={}))}(n=e.updater||(e.updater={}))}(n=e.webgl||(e.webgl={}))}(fayde||(fayde={}));
//# sourceMappingURL=fayde.webgl.min.js.map
